require 'oauth2'

callback = "https://4b59-197-210-77-90.eu.ngrok.io"
app_id = "9d084d53645d7130d6286e0bf9f60a0afd829c3fd2f5a2fbab4df036d6434521"

secret = "732cca49fe5d6f805ad5f3a21527f49e84e9dc9a9d47f33679718ef169671a9b"
client = OAuth2::Client.new(app_id, secret, site: "http://url.com/")
puts client.auth_code.authorize_url(redirect_uri: callback)
exit

code="[CODE]"
access = client.auth_code.get_token( code, redirect_uri: callback)
access.get("/api/user").parsed

puts access.token
